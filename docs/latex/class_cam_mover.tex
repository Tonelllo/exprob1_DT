\hypertarget{class_cam_mover}{}\doxysection{Cam\+Mover Class Reference}
\label{class_cam_mover}\index{CamMover@{CamMover}}


Inheritance diagram for Cam\+Mover\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=188pt]{class_cam_mover__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Cam\+Mover\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=299pt]{class_cam_mover__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_cam_mover_a8816740054ff4395be19acf1ab251610}{Cam\+Mover}} ()
\begin{DoxyCompactList}\small\item\em Class for moving the camera of the robot. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_cam_mover_a8dcbd9ff172ac11621dd64331d14e0e3}{start\+Rotation}} () override
\begin{DoxyCompactList}\small\item\em Starts the rotation of the camera. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_cam_mover_a958e14754f9cbea3f40ebf3a8bb740fe}\label{class_cam_mover_a958e14754f9cbea3f40ebf3a8bb740fe}} 
void \mbox{\hyperlink{class_cam_mover_a958e14754f9cbea3f40ebf3a8bb740fe}{stop\+Rotation}} () override
\begin{DoxyCompactList}\small\item\em Stops the rotation of the robot. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_cam_mover_aff862223b1e1cea47daf4d6a6d9f54a1}\label{class_cam_mover_aff862223b1e1cea47daf4d6a6d9f54a1}} 
using {\bfseries m\+Sync\+Policy\+\_\+} = message\+\_\+filters\+::sync\+\_\+policies\+::\+Approximate\+Time$<$ sensor\+\_\+msgs\+::msg\+::\+Image, sensor\+\_\+msgs\+::msg\+::\+Joint\+State $>$
\item 
\mbox{\Hypertarget{class_cam_mover_a7042a05777c7644400f5bb2ec55fde7b}\label{class_cam_mover_a7042a05777c7644400f5bb2ec55fde7b}} 
using {\bfseries m\+Sync\+\_\+} = message\+\_\+filters\+::\+Synchronizer$<$ m\+Sync\+Policy\+\_\+ $>$
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{class_cam_mover_a6f1447e1b099af975fe0c8e7cea7eb8d}{get\+Current\+Frame}} (const sensor\+\_\+msgs\+::msg\+::\+Image\+::\+Const\+Shared\+Ptr \&, const sensor\+\_\+msgs\+::msg\+::\+Joint\+State\+::\+Const\+Shared\+Ptr \&)
\begin{DoxyCompactList}\small\item\em Function to get the different arucos and save their position. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_cam_mover_a5e9f20b21dbc2c181dd1587eb860817c}\label{class_cam_mover_a5e9f20b21dbc2c181dd1587eb860817c}} 
void \mbox{\hyperlink{class_cam_mover_a5e9f20b21dbc2c181dd1587eb860817c}{vel\+Callback}} ()
\begin{DoxyCompactList}\small\item\em Simple timer for joint the camera joint velocity control. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{class_cam_mover_a6b1adbb9eebb1277121a0843b4a02912}{eucl\+Mod}} (float, float)
\begin{DoxyCompactList}\small\item\em Implementation of the euclidean modulus. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_cam_mover_a6979295df19951376f3b256d0b3507fc}\label{class_cam_mover_a6979295df19951376f3b256d0b3507fc}} 
\mbox{\hyperlink{class_aruco_detector}{Aruco\+Detector}} {\bfseries m\+Aruco\+Detector\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_aa0f5ef56f0b30a4102d4495b04e1f548}\label{class_cam_mover_aa0f5ef56f0b30a4102d4495b04e1f548}} 
rclcpp\+::\+Publisher$<$ std\+\_\+msgs\+::msg\+::\+Float64\+Multi\+Array $>$\+::Shared\+Ptr {\bfseries m\+Velocity\+Publisher\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_af00dcdce35487ab0d7d46ead4a0f772f}\label{class_cam_mover_af00dcdce35487ab0d7d46ead4a0f772f}} 
std\+::map$<$ int, float $>$ {\bfseries m\+Detected\+Ids\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_a520ef21467412f3bd0285b966bc6594c}\label{class_cam_mover_a520ef21467412f3bd0285b966bc6594c}} 
size\+\_\+t {\bfseries m\+Current\+Searching\+Index\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_a5c9145ed4a391893824d74651851ea66}\label{class_cam_mover_a5c9145ed4a391893824d74651851ea66}} 
rclcpp\+::\+Publisher$<$ sensor\+\_\+msgs\+::msg\+::\+Image $>$\+::Shared\+Ptr {\bfseries m\+Detection\+Publisher\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_a2ed3bb3df4f90ecb8ed258ff8244b854}\label{class_cam_mover_a2ed3bb3df4f90ecb8ed258ff8244b854}} 
rclcpp\+::\+Timer\+Base\+::\+Shared\+Ptr {\bfseries m\+Timer\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_a5ee04d39e471fcd4cdf9318d1b42a751}\label{class_cam_mover_a5ee04d39e471fcd4cdf9318d1b42a751}} 
message\+\_\+filters\+::\+Subscriber$<$ sensor\+\_\+msgs\+::msg\+::\+Image $>$ {\bfseries m\+Image\+Subscriber\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_aeefc32de316e8735b08822ad04e59ed3}\label{class_cam_mover_aeefc32de316e8735b08822ad04e59ed3}} 
message\+\_\+filters\+::\+Subscriber$<$ sensor\+\_\+msgs\+::msg\+::\+Joint\+State $>$ {\bfseries m\+Joint\+Subscriber\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_aa1b30d6e92a3faef86bb10dbc8f49c3f}\label{class_cam_mover_aa1b30d6e92a3faef86bb10dbc8f49c3f}} 
std\+::shared\+\_\+ptr$<$ m\+Sync\+\_\+ $>$ {\bfseries m\+Syncronizer\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_af92ffd82d99cbd80869bf5c59567d7f2}\label{class_cam_mover_af92ffd82d99cbd80869bf5c59567d7f2}} 
std\+::atomic$<$ float $>$ {\bfseries m\+Target\+\_\+}
\item 
\mbox{\Hypertarget{class_cam_mover_a2884e548444b93fc87194dec6bd063db}\label{class_cam_mover_a2884e548444b93fc87194dec6bd063db}} 
std\+::atomic$<$ float $>$ {\bfseries m\+Current\+Joint\+Pos\+\_\+}
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_cam_mover_a8816740054ff4395be19acf1ab251610}\label{class_cam_mover_a8816740054ff4395be19acf1ab251610}} 
\index{CamMover@{CamMover}!CamMover@{CamMover}}
\index{CamMover@{CamMover}!CamMover@{CamMover}}
\doxysubsubsection{\texorpdfstring{CamMover()}{CamMover()}}
{\footnotesize\ttfamily Cam\+Mover\+::\+Cam\+Mover (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Class for moving the camera of the robot. 

In This case the movement of the camera is done so that It will go towards the closest aruco marker 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_cam_mover_a6b1adbb9eebb1277121a0843b4a02912}\label{class_cam_mover_a6b1adbb9eebb1277121a0843b4a02912}} 
\index{CamMover@{CamMover}!euclMod@{euclMod}}
\index{euclMod@{euclMod}!CamMover@{CamMover}}
\doxysubsubsection{\texorpdfstring{euclMod()}{euclMod()}}
{\footnotesize\ttfamily float Cam\+Mover\+::eucl\+Mod (\begin{DoxyParamCaption}\item[{float}]{num,  }\item[{float}]{base }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Implementation of the euclidean modulus. 


\begin{DoxyParams}{Parameters}
{\em num} & Dividend of the division \\
\hline
{\em base} & Divisor of the division \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Modulus in the euclidean sense (Like in Python) 
\end{DoxyReturn}
\mbox{\Hypertarget{class_cam_mover_a6f1447e1b099af975fe0c8e7cea7eb8d}\label{class_cam_mover_a6f1447e1b099af975fe0c8e7cea7eb8d}} 
\index{CamMover@{CamMover}!getCurrentFrame@{getCurrentFrame}}
\index{getCurrentFrame@{getCurrentFrame}!CamMover@{CamMover}}
\doxysubsubsection{\texorpdfstring{getCurrentFrame()}{getCurrentFrame()}}
{\footnotesize\ttfamily void Cam\+Mover\+::get\+Current\+Frame (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::msg\+::\+Image\+::\+Const\+Shared\+Ptr \&}]{img,  }\item[{const sensor\+\_\+msgs\+::msg\+::\+Joint\+State\+::\+Const\+Shared\+Ptr \&}]{js }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Function to get the different arucos and save their position. 


\begin{DoxyParams}{Parameters}
{\em img} & Image in which to do the detection of the aruco \\
\hline
{\em js} & Current joint state of the camera \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_cam_mover_a8dcbd9ff172ac11621dd64331d14e0e3}\label{class_cam_mover_a8dcbd9ff172ac11621dd64331d14e0e3}} 
\index{CamMover@{CamMover}!startRotation@{startRotation}}
\index{startRotation@{startRotation}!CamMover@{CamMover}}
\doxysubsubsection{\texorpdfstring{startRotation()}{startRotation()}}
{\footnotesize\ttfamily void Cam\+Mover\+::start\+Rotation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Starts the rotation of the camera. 

Note that in the real robot this should be called with a timer, while in simulation only once is enough 

Implements \mbox{\hyperlink{class_mover}{Mover}}.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/cam\+Mover.\+hpp\item 
src/cam\+Mover.\+cpp\end{DoxyCompactItemize}
